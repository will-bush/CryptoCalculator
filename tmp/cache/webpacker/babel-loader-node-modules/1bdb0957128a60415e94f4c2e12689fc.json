{"ast":null,"code":"var _jsxFileName = \"/Users/Will/Development/crypt-calculator/app/javascript/components/PortfolioContainer.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { Component } from 'react';\nimport Search from './Search';\nimport Calculate from './Calculate';\nimport Portfolio from './Portfolio';\nimport axios from 'axios';\n\nvar PortfolioContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PortfolioContainer, _Component);\n\n  function PortfolioContainer(props) {\n    var _this;\n\n    _classCallCheck(this, PortfolioContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PortfolioContainer).call(this, props));\n    _this.state = {\n      portfolio: [],\n      search_results: [],\n      active_currency: null,\n      amount: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleAmount = _this.handleAmount.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(PortfolioContainer, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _this2 = this;\n\n      axios.post('http://localhost:3000/search', {\n        search: e.target.value\n      }).then(function (data) {\n        _this2.setState({\n          search_results: _toConsumableArray(data.data.currencies)\n        });\n      })[\"catch\"](function (data) {//console.log(data)\n      });\n    }\n  }, {\n    key: \"handleSelect\",\n    value: function handleSelect(e) {\n      e.preventDefault();\n      var id = e.target.getAttribute('data-id');\n      var activeCurrency = this.state.search_results.filter(function (item) {\n        return item.id == parseInt(id);\n      });\n      this.setState({\n        active_currency: activeCurrency[0],\n        search_results: []\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var currency = this.state.active_currency;\n      var amount = this.state.amount;\n      axios.post('http://localhost:3000/calculate', {\n        id: currency.id,\n        amount: amount\n      }).then(function (data) {\n        _this3.setState({\n          amount: '',\n          active_currency: null,\n          portfolio: [].concat(_toConsumableArray(_this3.state.portfolio), [data.data])\n        });\n      })[\"catch\"](function (data) {//console.log(data)\n      });\n    }\n  }, {\n    key: \"handleAmount\",\n    value: function handleAmount(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var searchOrCalculate = this.state.active_currency ? React.createElement(Calculate, {\n        handleChange: this.handleAmount,\n        handleSubmit: this.handleSubmit,\n        active_currency: this.state.active_currency,\n        amount: this.state.amount,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }) : React.createElement(Search, {\n        handleSelect: this.handleSelect,\n        searchResults: this.state.search_results,\n        handleChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        className: \"grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, searchOrCalculate), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Portfolio, {\n        portfolio: this.state.portfolio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PortfolioContainer;\n}(Component);\n\nexport default PortfolioContainer;","map":{"version":3,"sources":["/Users/Will/Development/crypt-calculator/app/javascript/components/PortfolioContainer.js"],"names":["React","Component","Search","Calculate","Portfolio","axios","PortfolioContainer","props","state","portfolio","search_results","active_currency","amount","handleChange","bind","handleSelect","handleSubmit","handleAmount","e","post","search","target","value","then","data","setState","currencies","preventDefault","id","getAttribute","activeCurrency","filter","item","parseInt","currency","name","searchOrCalculate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Search from './Search'\nimport Calculate from './Calculate'\nimport Portfolio from './Portfolio'\n\nimport axios from 'axios'\n\nclass PortfolioContainer extends Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      portfolio: [],\n      search_results: [],\n      active_currency: null,\n      amount: ''\n    }\n\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSelect = this.handleSelect.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleAmount = this.handleAmount.bind(this)\n  }\n\n  handleChange(e){\n    axios.post('http://localhost:3000/search', {\n      search: e.target.value\n    })\n    .then( (data) => {\n      this.setState({\n        search_results: [...data.data.currencies]\n      })\n    })\n    .catch( (data) => {\n      //console.log(data)\n    })\n  }\n\n  handleSelect(e){\n    e.preventDefault()\n\n    const id = e.target.getAttribute('data-id')\n    const activeCurrency = this.state.search_results.filter( item => item.id == parseInt(id))\n\n    this.setState({\n      active_currency: activeCurrency[0],\n      search_results: []\n    })\n  }\n\n  handleSubmit(e){\n    e.preventDefault()\n\n    let currency = this.state.active_currency\n    let amount = this.state.amount\n\n    axios.post('http://localhost:3000/calculate', {\n      id: currency.id,\n      amount: amount\n    })\n    .then( (data) => {\n      this.setState({\n        amount: '',\n        active_currency: null,\n        portfolio: [...this.state.portfolio, data.data]\n      })\n    })\n    .catch( (data) => {\n      //console.log(data)\n    })\n  }\n\n  handleAmount(e){\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  render(){\n    const searchOrCalculate = this.state.active_currency ?\n    <Calculate\n      handleChange={this.handleAmount}\n      handleSubmit={this.handleSubmit}\n      active_currency={this.state.active_currency}\n      amount={this.state.amount}\n    /> :\n    <Search\n      handleSelect={this.handleSelect}\n      searchResults={this.state.search_results}\n      handleChange={this.handleChange} />\n\n    return(\n      <div className=\"grid\">\n        <div className=\"left\">\n          {searchOrCalculate}\n        </div>\n        <div className=\"right\">\n          <Portfolio portfolio={this.state.portfolio}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PortfolioContainer"]},"metadata":{},"sourceType":"module"}